<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>Analytics Anyways</title>

    <link rel="stylesheet" href="index.css" type="text/css" />
    <link rel="stylesheet" href="leaflet/leaflet.css" type="text/css" />
    <link rel="stylesheet" href="leaflet-control-geocoder/Control.Geocoder.css" type="text/css" />

    <script src="leaflet/leaflet-src.js"></script>
    <script src="leaflet-control-geocoder/Control.Geocoder.js"></script>
    <script src="jquery/jquery-3.1.0.min.js"></script>

    <script src="app/ANYWAYS.base.js"></script>
    <script src="app/ANYWAYS.JSONP.js"></script>
    <script src="app/api/ANYWAYS.api.js"></script>
    <script src="app/ANYWAYS.tree.js"></script>

</head>
<body>
    <div id="map"></div>
	<script>
        var map = L.map('map').setView([51.05470154795641, 3.7240487337112427], 13);
        var marker = null;

        L.tileLayer('https://api.mapbox.com/styles/v1/mapbox/dark-v9/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1IjoiZXVyb3N0YXRpb24iLCJhIjoickVCa3JCTSJ9.EdN8BIazD16z2PHyGShqtA', {
            attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="http://mapbox.com">Mapbox</a>',
            maxZoom: 18
        }).addTo(map);

        // add and create routing control.
        var geocodingcontrol = L.Control.geocoder({
                geocoder: L.Control.Geocoder.nominatim()
            });
        geocodingcontrol.markGeocode = function (result) {
            if (result.center) {
                map.panTo(result.center);
            }
        };
        geocodingcontrol.addTo(map);

        var carTree = ANYWAYS.tree.create(map, {
            lng: 3.7240487337112427,
            lat: 51.05470154795641
        }, 'car', '55FF55', 450);

        //var bicycleTree = ANYWAYS.tree.create(map, {
        //    lng: 3.7240487337112427,
        //    lat: 51.05470154795641
        //}, 'bicycle', '55FF55', 450);
        
        //carTree.onOverEdge = function (edgeId) {
        //    console.log("from car -> bicycle");
        //    bicycleTree.selectEdge(edgeId);
        //};

        //bicycleTree.onOverEdge = function (edgeId) {
        //    console.log("from bicycle -> car");
        //    carTree.selectEdge(edgeId);
        //};

	</script>
</body>
</html>
